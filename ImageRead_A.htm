<!DOCTYPE html>
<html>
<head>
    <title>Grayscale Image</title>
    <style>
        #form {
            margin: 20px;
        }

        #canvas {
            margin: 20px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <form id="form">
        <label>Enter image URL:</label>
        <input type="text" id="image-url" placeholder="Enter image URL">
        <input type="submit" value="Submit">
    </form>

    <canvas id="canvas" style="visibility:hidden"></canvas>

    <script>
        var form = document.getElementById("form");
        var imageUrl = document.getElementById("image-url");
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");

        form.addEventListener("submit", function(event) {
            event.preventDefault(); // prevent form submission
            var img = new Image();
            img.src = imageUrl.value;
            img.onload = function() {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
                var imgData = ctx.getImageData(0, 0, img.width, img.height);
                var data = imgData.data;
                for (var i = 0; i < data.length; i += 4) {
                    var gray = 0.3 * data[i] + 0.59 * data[i + 1] + 0.11 * data[i + 2];
                    data[i] = gray;
                    data[i + 1] = gray;
                    data[i + 2] = gray;
                }
                ctx.putImageData(imgData, 0, 0);
                canvas.style.visibility = "visible";
                alert("Complete!");
            }
            img.onerror = function() {
                alert("Error: Failed to load image.");
            }
        });
    </script>
</body>
</html>
